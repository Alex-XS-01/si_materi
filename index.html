<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SI Materi Kuliah - Supabase</title>
    
    <!-- Library Supabase JS -->
    <!-- Library ini membuat global variable bernama 'supabase' -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <style>
        /* CSS SAMA SEPERTI SEBELUMNYA (Dengan sedikit perbaikan animasi) */
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #64748b;
            --accent: #0f172a;
            --bg: #f8fafc;
            --white: #ffffff;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --radius: 16px;
            --danger: #ef4444;
            --success: #10b981;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Roboto, Helvetica, sans-serif; }
        body { background: var(--bg); color: var(--accent); min-height: 100vh; display: flex; flex-direction: column; }
        .hidden { display: none !important; }
        
        .btn {
            padding: 12px 24px; border: none; border-radius: var(--radius); cursor: pointer; font-weight: 600; transition: 0.3s; font-size: 0.95rem;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .btn-primary { background: var(--primary); color: white; }
        .btn-danger { background: var(--danger); color: white; }
        .btn-secondary { background: var(--secondary); color: white; }
        .btn-outline { border: 1px solid var(--secondary); background: transparent; color: var(--secondary); }
        .btn-success { background: var(--success); color: white; }

        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 0.9rem; }
        .form-control {
            width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 1rem; transition: 0.3s;
        }
        .form-control:focus { outline: none; border-color: var(--primary); }

        .auth-container { display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
        .auth-card {
            background: white; padding: 40px; border-radius: 24px; box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            width: 100%; max-width: 450px; animation: fadeIn 0.8s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .role-switch {
            display: flex; background: #f1f5f9; padding: 6px; border-radius: 12px; margin-bottom: 25px;
        }
        .role-btn { flex: 1; text-align: center; padding: 10px; border-radius: 8px; cursor: pointer; font-weight: 600; color: var(--secondary); transition: 0.3s; }
        .role-btn.active { background: white; color: var(--primary); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }

        .dashboard-wrapper { display: flex; flex-direction: column; min-height: 100vh; }
        .navbar {
            background: white; padding: 15px 30px; box-shadow: var(--shadow); display: flex; justify-content: space-between; align-items: center;
        }
        .main-content { padding: 40px; max-width: 1400px; margin: 0 auto; width: 100%; flex: 1; }
        
        .material-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px;
        }
        .material-card {
            background: white; border-radius: 20px; padding: 25px; box-shadow: var(--shadow);
            border-top: 4px solid var(--primary); transition: 0.3s;
        }
        .material-card:hover { transform: translateY(-5px); }

        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); z-index: 1000;
            display: flex; justify-content: center; align-items: center;
        }
        .modal-content { background: white; padding: 40px; border-radius: 24px; width: 100%; max-width: 600px; }

        .toast { 
            padding: 15px 25px; background: white; border-radius: 12px; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); margin-bottom: 10px; animation: slideIn 0.3s ease; border-left: 5px solid var(--primary);
        }
        @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
        
        .profile-widget { display: flex; align-items: center; gap: 12px; cursor: pointer; padding: 8px 16px; border-radius: 50px; background: #f1f5f9; transition: 0.3s; }
        .profile-widget:hover { background: white; }
        .avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid var(--primary); }
    </style>
</head>
<body>

    <div id="toast-container" style="position: fixed; top: 20px; right: 20px; z-index: 9999;"></div>

    <!-- HALAMAN LOGIN -->
    <div id="auth-view" class="auth-container">
        <div class="auth-card">
            <div style="text-align: center; margin-bottom: 25px;">
                <h2 style="color: var(--primary);">SI Materi Kuliah</h2>
                <p style="color: var(--secondary);">Masuk dengan Supabase</p>
            </div>
            
            <div class="role-switch">
                <div class="role-btn active" onclick="switchRole('mahasiswa')">Mahasiswa</div>
                <div class="role-btn" onclick="switchRole('dosen')">Dosen</div>
            </div>

            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label id="label-id">NPM</label>
                    <input type="text" id="input-id" class="form-control" placeholder="Masukkan ID" required>
                </div>
                <div class="form-group">
                    <label>Sandi</label>
                    <input type="password" id="input-sandi" class="form-control" placeholder="Password" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Masuk</button>
            </form>
            
            <div style="margin-top: 20px; text-align: center;">
                <a href="#" onclick="openResetModal()" style="color: var(--primary); text-decoration: none; font-weight: 600;">Lupa Sandi ?</a>
            </div>
        </div>
    </div>

    <!-- MODAL RESET PASSWORD -->
    <div id="modal-reset" class="modal-overlay hidden">
        <div class="modal-content">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h2>Ganti Kata Sandi</h2>
                <button class="btn btn-secondary" onclick="closeModal('modal-reset')">X</button>
            </div>
            <form onsubmit="handleResetPassword(event)">
                <div class="form-group"><label>Username</label><input type="text" id="reset-username" class="form-control" required></div>
                <div class="form-group"><label>Sandi Lama</label><input type="password" id="reset-old-pass" class="form-control" required></div>
                <div class="form-group"><label>Sandi Baru</label><input type="password" id="reset-new-pass" class="form-control" required></div>
                <div style="display:flex; gap:10px;"><button class="btn btn-secondary" onclick="closeModal('modal-reset')">Batal</button><button class="btn btn-primary">Simpan</button></div>
            </form>
        </div>
    </div>

    <!-- DASHBOARD -->
    <div id="dashboard-view" class="dashboard-wrapper hidden">
        <header class="navbar">
            <div class="nav-left" style="display: flex; gap: 20px;">
                <a href="#" style="font-weight: 800; font-size: 1.5rem; color: var(--primary); text-decoration: none;">SI Materi<span style="color:var(--accent)">Kuliah</span></a>
                <div class="profile-widget" onclick="openProfileModal()">
                    <img id="nav-avatar" src="" class="avatar">
                    <div><div id="nav-name" style="font-weight: 700;"></div><div id="nav-role" style="font-size: 0.75rem; color: var(--secondary);"></div></div>
                </div>
            </div>
            <div style="display: flex; gap: 15px;">
                <button class="btn btn-outline" onclick="alert('Fitur Contact akan segera hadir')">Contact</button>
                <button class="btn btn-danger" onclick="window.location.reload()">Logout</button>
            </div>
        </header>

        <main class="main-content">
            <section style="background: white; padding: 25px; border-radius: 20px; margin-bottom: 30px; border-left: 5px solid var(--success);">
                <h3>Tentang Website</h3>
                <p style="color: var(--secondary);">Portal materi kuliah terintegrasi database Supabase. Data tersimpan secara real-time dan aman.</p>
            </section>

            <!-- Filter -->
            <section style="background: white; padding: 25px; border-radius: 20px; margin-bottom: 30px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                <div class="form-group" style="margin:0"><label>Prodi</label>
                    <select id="filter-prodi" class="form-control" onchange="fetchMaterials()">
                        <option value="">Semua</option><option value="Informatika">Informatika</option><option value="Sistem Informasi">Sistem Informasi</option>
                    </select>
                </div>
                <div class="form-group" style="margin:0"><label>Semester</label>
                    <select id="filter-semester" class="form-control" onchange="fetchMaterials()">
                        <option value="">Semua</option>
                        <!-- JS fills 1-8 -->
                    </select>
                </div>
                <div id="action-add-container" class="hidden" style="display:flex; align-items:end;">
                    <button class="btn btn-primary" onclick="openMaterialModal()">+ Tambah Materi</button>
                </div>
            </section>

            <div id="material-list" class="material-grid"></div>
        </main>
    </div>

    <!-- MODAL PROFILE -->
    <div id="modal-profile" class="modal-overlay hidden">
        <div class="modal-content">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h2>Profil Akademik</h2>
                <button class="btn btn-secondary" onclick="closeModal('modal-profile')">X</button>
            </div>
            <div style="text-align: center; margin-bottom: 25px;">
                <img id="modal-avatar" src="" class="avatar" style="width: 120px; height: 120px; border-width: 4px; cursor:pointer;" onclick="document.getElementById('upload-avatar').click()">
                <input type="file" id="upload-avatar" class="hidden" accept="image/*" onchange="changeAvatar(this)">
                <button class="btn btn-outline" style="font-size:0.9rem;">Ubah Foto</button>
            </div>
            
            <div style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px dashed #e2e8f0;">
                <span style="font-weight:700; color:var(--secondary)">Nama</span>
                <span id="p-nama" contenteditable="true" style="padding:2px 5px; border-radius:4px;"></span>
            </div>
            <div style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px dashed #e2e8f0;">
                <span style="font-weight:700; color:var(--secondary)">ID</span>
                <span id="p-id" style="color:#94a3b8;"></span>
            </div>
            <div style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px dashed #e2e8f0;">
                <span style="font-weight:700; color:var(--secondary)">Institusi</span>
                <span id="p-instansi" contenteditable="true" style="padding:2px 5px; border-radius:4px;"></span>
            </div>
            <!-- Khusus Mahasiswa -->
            <div id="row-sesi" style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px dashed #e2e8f0;">
                <span style="font-weight:700; color:var(--secondary)">Sesi</span>
                <span id="p-sesi" contenteditable="true" style="padding:2px 5px; border-radius:4px;"></span>
            </div>
            <div id="row-prodi" style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px dashed #e2e8f0;">
                <span style="font-weight:700; color:var(--secondary)">Prodi</span>
                <span id="p-prodi" contenteditable="true" style="padding:2px 5px; border-radius:4px;"></span>
            </div>
            <div id="row-dosen" style="display:flex; justify-content:space-between; margin-bottom:10px; border-bottom:1px dashed #e2e8f0;">
                <span style="font-weight:700; color:var(--secondary)">Pembimbing</span>
                <span id="p-dosen" contenteditable="true" style="padding:2px 5px; border-radius:4px;"></span>
            </div>

            <button class="btn btn-success" style="width:100%; margin-top:20px;" onclick="saveProfile()">Simpan Perubahan</button>
        </div>
    </div>

    <!-- MODAL MATERI -->
    <div id="modal-material" class="modal-overlay hidden">
        <div class="modal-content">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h2 id="modal-material-title">Tambah Materi</h2>
                <button class="btn btn-secondary" onclick="closeModal('modal-material')">X</button>
            </div>
            <form onsubmit="handleMaterialSubmit(event)">
                <input type="hidden" id="mat-id">
                <div class="form-group"><label>Prodi</label><select id="mat-prodi" class="form-control" required><option value="Informatika">Informatika</option><option value="Sistem Informasi">Sistem Informasi</option></select></div>
                <div class="form-group"><label>Semester</label><select id="mat-semester" class="form-control" required></select></div>
                <div class="form-group"><label>Bab</label><select id="mat-bab" class="form-control" required><option value="Bab 1">Bab 1</option><option value="Bab 2">Bab 2</option></select></div>
                <div class="form-group"><label>Judul</label><input type="text" id="mat-subbab" class="form-control" required></div>
                <div class="form-group"><label>Link File</label><input type="text" id="mat-file" class="form-control" required></div>
                <button class="btn btn-primary" style="width:100%">Simpan</button>
            </form>
        </div>
    </div>

    <script>
        // --- CONFIGURATION SUPABASE ---
        // GANTI DENGAN URL DAN ANON KEY DARI DASHBOARD SUPABASE ANDA
        const SUPABASE_URL = 'https://xfqtyqwfdmqkgevdssvv.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhmcXR5cXdmZG1xa2dldmRzc3Z2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4OTY2MjYsImV4cCI6MjA4MjQ3MjYyNn0.Trcdgsig9lQQ58bzv61i4Ue7hvjCyjc6LPqfzaWId-Q'; // <--- PENTING! ISI DENGAN KEY ASLI

        // --- FIX: Menggunakan nama variabel 'supabaseClient' agar tidak bentrok dengan global 'supabase' dari CDN ---
        let supabaseClient;
        
        // Cek apakah library sudah termuat sebelum membuat client
        if (window.supabase) {
            supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        } else {
            console.error("Library Supabase gagal dimuat. Periksa koneksi internet.");
        }

        // --- GLOBAL VARS ---
        let currentUser = null;
        let currentRole = 'mahasiswa';

        document.addEventListener('DOMContentLoaded', () => {
            populateSemesters();
        });

        function populateSemesters() {
            for(let i=1; i<=8; i++) {
                const opt = `<option value="${i}">Semester ${i}</option>`;
                document.getElementById('filter-semester').innerHTML += opt;
                document.getElementById('mat-semester').innerHTML += opt;
            }
        }

        function showToast(msg, type='info') {
            const div = document.createElement('div');
            div.className = 'toast';
            div.innerHTML = msg;
            div.style.borderLeftColor = type === 'error' ? 'red' : 'green';
            document.getElementById('toast-container').appendChild(div);
            setTimeout(() => div.remove(), 3000);
        }

                // --- LOGIN LOGIC (SUPER DEBUG MODE) ---
        function switchRole(role) {
            currentRole = role;
            document.querySelectorAll('.role-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('label-id').innerText = role === 'mahasiswa' ? 'NPM' : 'NIDN';
        }

        async function handleLogin(e) {
            e.preventDefault();
            
            const id = document.getElementById('input-id').value.trim();
            const pass = document.getElementById('input-sandi').value.trim();

            if (!supabaseClient) {
                showToast("Database belum terkoneksi", "error");
                return;
            }

            console.log("--- DEBUGGING LOGIN ---");
            console.log("Input ID:", id);
            console.log("Input Pass:", pass);
            console.log("Role:", currentRole);

            // LOGIKA FLEKSIBEL:
            // Coba cari data dulu. Jika kolom di DB Anda 'username' atau 'email', ini akan jalan.
            let { data, error } = await supabaseClient
                .from('users')
                .select('*')
                .eq('username', id)
                .eq('password', pass)
                .maybeSingle();

            console.log("Hasil pencarian kolom 'username':", data);

            // JIKA GAGAL DI KOLOM 'username', COBA KOLOM KHUSUS (NPM/NIDN)
            if (!data) {
                console.log("Data tidak ditemukan di kolom 'username'. Mencoba kolom spesifik...");
                
                // Tentukan nama kolom berdasarkan role
                // Jika Mahasiswa -> coba kolom 'npm'. Jika Dosen -> coba kolom 'nidn'.
                const columnName = currentRole === 'mahasiswa' ? 'npm' : 'nidn';

                const result = await supabaseClient
                    .from('users')
                    .select('*')
                    .eq(columnName, id)
                    .eq('password', pass)
                    .maybeSingle();

                data = result.data;
                error = result.error;
                
                console.log(`Hasil pencarian kolom '${columnName}':`, data);
            }

            // PENGECEKAN ERROR
            if (error) {
                console.error("Error Koneksi Supabase:", error.message);
                showToast(`Error: ${error.message}`, 'error');
                return;
            }

            // JIKA DATA MASIH KOSONG
            if (!data) {
                console.error("Data null/undefined. Login gagal.");
                showToast('Login Gagal: ID atau Password salah/kosong', 'error');
                
                // TAMBAHAN: Cek apakah passwordnya benar
                const checkPass = await supabaseClient
                    .from('users')
                    .select('*')
                    .ilike('username', id); 
                console.log("Ada data dengan ID ini?", checkPass.data);
                return;
            }

            // SUKSES LOGIN
            console.log("Login Sukses! Data User:", data);
            currentUser = data;
            
            // Fetch profil
            const { data: profile } = await supabaseClient.from('profile').select('*').eq('user_id', data.id).maybeSingle();
            if(profile) {
                currentUser.avatar = profile.avatar_url;
                currentUser.sesi = profile.sesi_belajar;
                currentUser.pembimbing = profile.pembimbing_akademik;
            }

            // Tampilan
            document.getElementById('auth-view').classList.add('hidden');
            document.getElementById('dashboard-view').classList.remove('hidden');
            document.getElementById('nav-name').innerText = data.nama_lengkap || data.username || data.nama;
            document.getElementById('nav-role').innerText = data.role;
            document.getElementById('nav-avatar').src = currentUser.avatar || `https://ui-avatars.com/api/?name=${data.nama_lengkap || data.username}&background=random`;

            // Cek role untuk tombol tambah
            // Ubah ke huruf kecil semua agar tidak case-sensitive
            const roleLower = (data.role || '').toLowerCase();
            if(roleLower === 'dosen') {
                document.getElementById('action-add-container').classList.remove('hidden');
            }
            
            fetchMaterials();
            showToast('Login Berhasil', 'success');
        }
        // --- MATERIAL LOGIC (SUPABASE) ---
        async function fetchMaterials() {
            const prodi = document.getElementById('filter-prodi').value;
            const sem = document.getElementById('filter-semester').value;

            let query = supabaseClient.from('materials').select('*');
            if(prodi) query = query.eq('prodi', prodi);
            if(sem) query = query.eq('semester', sem);

            const { data, error } = await query;
            renderMaterials(data || []);
        }

        function renderMaterials(data) {
            const list = document.getElementById('material-list');
            list.innerHTML = '';
            
            data.forEach(m => {
                const card = document.createElement('div');
                card.className = 'material-card';
                card.innerHTML = `
                    <h4>${m.bab}: ${m.subbab}</h4>
                    <p style="color:var(--secondary); font-size:0.9rem;">${m.prodi} | Sem ${m.semester}</p>
                    <div style="margin-top:15px; display:flex; justify-content:space-between; border-top:1px solid #f1f5f9; padding-top:10px;">
                        <a href="${m.file_url}" target="_blank" class="btn btn-primary" style="font-size:0.8rem; text-decoration:none;">Unduh</a>
                        ${currentUser.role === 'dosen' ? `
                        <div style="display:flex; gap:5px;">
                            <button class="btn btn-danger" style="font-size:0.8rem; padding:5px 10px;" onclick="deleteMaterial(${m.id})">Hapus</button>
                        </div>` : ''}
                    </div>
                `;
                list.appendChild(card);
            });
        }

        // --- CRUD MATERIAL ---
        function openMaterialModal() {
            document.getElementById('modal-material').classList.remove('hidden');
            document.getElementById('mat-id').value = '';
        }

        async function handleMaterialSubmit(e) {
            e.preventDefault();
            const payload = {
                prodi: document.getElementById('mat-prodi').value,
                semester: parseInt(document.getElementById('mat-semester').value),
                bab: document.getElementById('mat-bab').value,
                subbab: document.getElementById('mat-subbab').value,
                file_url: document.getElementById('mat-file').value,
                author_name: currentUser.nama_lengkap
            };

            const { error } = await supabaseClient.from('materials').insert([payload]);
            if(!error) {
                showToast('Materi ditambahkan', 'success');
                closeModal('modal-material');
                fetchMaterials();
            } else {
                showToast('Gagal menambah materi', 'error');
                console.log(error);
            }
        }

        async function deleteMaterial(id) {
            if(!confirm('Hapus?')) return;
            await supabaseClient.from('materials').delete().eq('id', id);
            fetchMaterials();
            showToast('Dihapus', 'success');
        }

        // --- PROFILE LOGIC (SUPABASE) ---
        async function openProfileModal() {
            document.getElementById('modal-profile').classList.remove('hidden');
            const { data } = await supabaseClient.from('profile').select('*').eq('user_id', currentUser.id).single();
            
            if(data) {
                document.getElementById('p-nama').innerText = currentUser.nama_lengkap;
                document.getElementById('p-id').innerText = currentUser.username;
                document.getElementById('p-instansi').innerText = data.nama_institusi;
                document.getElementById('modal-avatar').src = data.avatar_url;

                if(currentUser.role === 'mahasiswa') {
                    document.getElementById('row-sesi').style.display = 'flex';
                    document.getElementById('row-prodi').style.display = 'flex';
                    document.getElementById('row-dosen').style.display = 'flex';
                    document.getElementById('p-sesi').innerText = data.sesi_belajar;
                    document.getElementById('p-prodi').innerText = currentUser.prodi;
                    document.getElementById('p-dosen').innerText = data.pembimbing_akademik;
                } else {
                    document.getElementById('row-sesi').style.display = 'none';
                    document.getElementById('row-prodi').style.display = 'none';
                    document.getElementById('row-dosen').style.display = 'none';
                }
            }
        }

        function changeAvatar(input) {
            if(input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    document.getElementById('nav-avatar').src = e.target.result;
                    document.getElementById('modal-avatar').src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        async function saveProfile() {
            // Update Profile
            const profileData = {
                user_id: currentUser.id,
                avatar_url: document.getElementById('modal-avatar').src,
                nama_institusi: document.getElementById('p-instansi').innerText,
                sesi_belajar: document.getElementById('p-sesi').innerText,
                pembimbing_akademik: document.getElementById('p-dosen').innerText
            };

            // Update Users (Nama & Prodi)
            const userData = {
                nama_lengkap: document.getElementById('p-nama').innerText,
                prodi: document.getElementById('p-prodi').innerText
            };

            await supabaseClient.from('profile').upsert(profileData);
            await supabaseClient.from('users').update(userData).eq('id', currentUser.id);

            showToast('Profil Disimpan', 'success');
            closeModal('modal-profile');
        }

        // --- RESET PASSWORD (SIMPLE) ---
        function openResetModal() { document.getElementById('modal-reset').classList.remove('hidden'); }
        async function handleResetPassword(e) {
            e.preventDefault();
            const user = document.getElementById('reset-username').value;
            const oldPass = document.getElementById('reset-old-pass').value;
            const newPass = document.getElementById('reset-new-pass').value;

            const { data, error } = await supabaseClient.from('users').select('*').eq('username', user).eq('password', oldPass).single();
            
            if(data) {
                await supabaseClient.from('users').update({ password: newPass }).eq('username', user);
                showToast('Password Berhasil Diubah', 'success');
                closeModal('modal-reset');
            } else {
                showToast('Password lama salah', 'error');
            }
        }

        function closeModal(id) { document.getElementById(id).classList.add('hidden'); }
    </script>
</body>
</html>


